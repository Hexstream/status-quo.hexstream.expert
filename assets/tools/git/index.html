<!DOCTYPE html>

<html>

  <head>
    <meta charset="UTF-8" />
    <link rel="canonical" href="https://status-quo.hexstream.expert/tools/git/" />
    <meta name="author" content="Jean-Philippe Paradis" />
    <link rel="author" href="https://abc.hexstream.xyz/" />
    <link rel="license" href="https://www.hexstreamsoft.com/UNLICENSE" />
    <meta name="description" content="Hexstream's window manager status quo." />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>git | Tools | Status quo | Jean-Philippe Paradis (Hexstream)</title>
    <link rel="stylesheet" type="text/css" href="https://global.hexstream.dev/css/global.css" />
    <link rel="stylesheet" type="text/css" href="https://global.hexstream.dev/css/section-nav.css" />
    <link rel="stylesheet" type="text/css" href="https://global.hexstream.dev/css/tabs.css" />
    <link rel="stylesheet" type="text/css" href="https://global.hexstream.dev/css/cards.css" />
    <link rel="stylesheet" type="text/css" href="../tools.css" />
    <link rel="preload" as="font" type="font/woff2" href="https://global.hexstream.dev/fonts/kaushan-script/KaushanScript-Regular.woff2" crossorigin />
    <link rel="preload" as="font" type="font/woff2" href="https://global.hexstream.dev/fonts/liberation/LiberationSerif-Regular.woff2" crossorigin />
    <script src="https://global.hexstream.dev/scripts/arrows-madness.mjs" type="module"></script>
  </head>

  <body>

    <nav id="top-nav">

      <div class="main">

        <div class="breadcrumbs">
          <a href="https://www.hexstream.expert/">Jean-Philippe Paradis (Hexstream)</a>
          <span class="crumb"><span class="s"> » </span><a href="../../">Status quo</a></span>
          <span class="crumb"><span class="s"> » </span><a href="../../#tools">Tools</a></span>
          <span class="crumb"><span class="s"> » </span><a class="here">git</a></span>
        </div>

      </div>

      <p id="last-updated"><span>This page was last updated on </span><time datetime="2024-05-25">25 may 2024</time><span>.</span></p>

    </nav>

    <main>

      <header id="page-header">
        <h1>git</h1>
        <p class="description">Distributed version control system.</p>
      </header>

      <nav class="tabs">
        <ul>
          <li><a href="#usage-notes">Usage notes</a></li>
          <li><a href="#my-config">My config</a></li>
        </ul>
        <ul>
          <li><a href="../../emerging-changes/#git">Emerging changes</a></li>
        </ul>
        <ul>
          <li><a href="https://git-scm.com/" target="_blank">Project's home ⬈</a></li>
        </ul>
      </nav>

      <section id="usage-notes">

        <h1 class="breadcrumbs-bar">
          <span class="section-relative-nav">
            <a href="#usage-notes" class="anchor">⚓</a>
          </span>
          <span class="breadcrumbs">
            <a class="here">Usage notes</a>
          </span>
        </h1>

        <nav class="tabs">
          <ul>
            <li><a href="#overview">Overview</a></li>
            <li><a href="#routinely-used-commands">Routinely used commands</a></li>
            <li><a href="#rarely-used-commands">Rarely used commands</a></li>
            <li><a href="#almost-never-used-commands">Almost never used commands</a></li>
          </ul>
        </nav>

        <p>Reminder: In my status quo I document the commands from the perspective of how I use them, which necessarily (and by design) involves (over)simplifications.<br />Please consult the official documentation for full details.</p>

        <section id="overview">

          <h1 class="breadcrumbs-bar">
            <span class="section-relative-nav">
              <a href="#overview" class="anchor">⚓</a>
            </span>
            <span class="breadcrumbs">
              <a href="#usage-notes">Usage notes</a>
              <span class="crumb"><span class="s"> » </span><a class="here">Overview</a></span>
            </span>
          </h1>

          <p>
            My git workflows are still pretty basic, though they are slightly more sophisticated than they used to be.
            <br />
            I still typically develop directly on the <code>master</code> branch, though I do occasionally use branches these days.
          </p>

        </section>

        <section id="routinely-used-commands">

          <h1 class="breadcrumbs-bar">
            <span class="section-relative-nav">
              <a href="#routinely-used-commands" class="anchor">⚓</a>
            </span>
            <span class="breadcrumbs">
              <a href="#usage-notes">Usage notes</a>
              <span class="crumb"><span class="s"> » </span><a class="here">Routinely used commands</a></span>
            </span>
          </h1>

          <div class="cards cards-link-to-themselves">

            <article class="card" id="sb">
              <h1><a href="#sb" class="custom"><code>git sb</code></a></h1>
              <p>Alias for <code>git status -s && git branch -av</code> (or <code>git s && git b</code>).</p>
              <p>
                Show summary of working tree and staging area relative to HEAD,
                <br />
                and of current branch and all others.</p>
            </article>

            <article class="card" id="d">
              <h1>
                <a href="#d" class="custom">
                  <code>git d [<var>paths</var>] [--stat]</code>
                  <br/>
                  <code>git dc [<var>paths</var>] [--stat]</code>
                </a>
              </h1>
              <p>Aliases for <code>git diff</code> and <code>git diff --cached</code>, respectively.</p>
              <p>
                Show the diff between the working tree and the staging area,
                <br/>
                or between the staging area and the HEAD, respectively.
              </p>
              <p>If <var>paths</var> are given, show diff only for files matching them.</p>
              <p>With <code>--stat</code>, show changed files instead of changes.</p>
            </article>

            <article class="card" id="add">
              <h1><a href="#add"><code>git add <var>paths…</var></code></a></h1>
              <p>
                Add given files and directories in working directory to staging area.
                <br />
                (Note that this can also add the <em>deletion</em> of files to the staging area.)
              </p>
              <p>
                Use <code>git add .</code> to add all changes to the staging area.
                <br/>
                This also adds files which were previously untracked by git.
                <br/>
                (As long as they haven't been <code>.gitignore</code>d.)
              </p>
              <p>
                These days, I like to add changes to the staging area
                <br />
                "in real time", as soon as I am confident about them.
                <br />
                This makes it easy to review confident changes
                <br />
                and those still in development separately.
              </p>
            </article>

            <article class="card" id="commit">
              <h1><a href="#commit"><code>git commit</code></a></h1>
              <p>I sometimes use the <code>-a</code> option for trivial commits, but I usually <code>git add</code> files beforehand.</p>
              <p>
                I almost always use the <code>-m</code> option to specify the commit message on the command line, since it's usually a one-liner, in my case.
                <br/>
                I always use single-quote escapes to make sure all characters are automatically escaped. For example:
              </p>
              <p><code>git commit -m 'This is my commit message. It'\''s really cool!!'</code></p>
              <p>Note the use of <code>'\''</code> to effectively escape the single quote within the single quote escape.</p>
              <details id="commit_why-not-double-quotes">
                <summary>Why not use double quotes?</summary>
                <p>
                  Because <code>git commit -m "This is my commit message. It's really cool!!"</code> wouldn't work as intended, at least in bash,
                  <br/>
                  since <code>!!</code> is still interpreted as a special command even within double quotes.
                </p>
                <p>
                  And forget <code>git commit -m "This is my commit message. It's really cool\!\!"</code>
                  <br/>
                  because it would yield a commit message of "This is my commit message. It's really cool\!\!".
                </p>
                <p>Yeah, shell scripting is screwy like that. So now you see why I ALWAYS use single-quote escapes in this case...</p>
              </details>
              <p>
                I sometimes use the <code>-e</code> option, for instance to verify that the first commit line is below 80 characters,
                <br />
                or if I want to easily add further lines to the commit, but then I might omit the <code>-em</code> options altogether.
              </p>
              <p>I sometimes use <code>git commit --amend</code> if I screwed up the commit message.</p>
              <p><code>git commit --amend -aC HEAD</code> is extremely useful to quickly add changes to the most recent commit.</p>
              <p><code>git commit --amend -C HEAD --reset-author</code> is extremely useful before publishing old or rebased commits.</p>
            </article>

            <article class="card" id="push">
              <h1><a href="#push"><code>git push [-f] <var>remote</var> [<var>branch</var>]</code></a></h1>
              <p>Push <var>branch</var> (which defaults to HEAD) to <var>remote</var>.</p>
              <p>Use the <code>-f</code> option to force push if necessary.</p>
              <p>
                Use <code>git push <var>remote</var> :<var>branch</var></code> to delete <var>branch</var> in <var>remote</var>.
                <br />
                (You can think of it as "push null to <var>branch</var> in <var>remote</var>".)
              </p>
              <p>Also used to push a <var>tag</var> rather than a <var>branch</var>, but rarely.</p>
            </article>

            <article class="card" id="log">
              <h1><a href="#log"><code>git log [<var>branch</var>] [<var>paths</var>…]</code></a></h1>
              <p>
                Show past commits on <var>branch</var> (which defaults to HEAD).
                <br />
                If <var>paths</var> are specified, show only the commits that affected those paths.
              </p>
            </article>

            <article class="card" id="show">
              <h1><a href="#show"><code>git show [<var>commit</var>] [--stat]</code></a></h1>
              <p>Show <var>commit</var> message and diff.</p>
            </article>

          </div>

        </section>

        <section id="rarely-used-commands">

          <h1 class="breadcrumbs-bar">
            <span class="section-relative-nav">
              <a href="#rarely-used-commands" class="anchor">⚓</a>
            </span>
            <span class="breadcrumbs">
              <a href="#usage-notes">Usage notes</a>
              <span class="crumb"><span class="s"> » </span><a class="here">Rarely used commands</a></span>
            </span>
          </h1>

          <div class="cards cards-link-to-themselves">

            <article class="card" id="rm">
              <h1>
                <a href="#rm">
                  <code>git rm <var>files…</var></code>
                  <br/>
                  <code>git rm -r <var>directories…</var></code>
                </a>
              </h1>
              <p>Deletes a file or directory (respectively) from the working tree, and "adds its removal" to the staging area.</p>
            </article>

            <article class="card" id="checkout_branch">
              <h1><a href="#checkout_branch"><code>git checkout [-b] <var>branch</var></code></a></h1>
              <p>Switch to the given <var>branch</var>. It's best to have a clean working tree when doing so.</p>
              <p>Rarely, with -b, create given <var>branch</var> pointing at HEAD commit and switch to it.</p>
            </article>

            <article class="card" id="checkout_paths">
              <h1><a href="#checkout_paths"><code>git checkout [<var>tree-ish</var>] [--] <var>paths…</var></code></a></h1>
              <p>Revert files matched by <var>paths</var> to the version of them from <var>tree-ish</var>, which defaults to the staging area.</p>
              <p>Use <code>--</code> to explicitly indicate the end of options.</p>
            </article>

            <article class="card" id="reset">
              <h1><a href="#reset"><code>git reset <var>paths…</var></code></a></h1>
              <p>Pretty much the opposite of <code>git add <var>paths</var></code>.</p>
            </article>

          </div>

        </section>

        <section id="almost-never-used-commands">

          <h1 class="breadcrumbs-bar">
            <span class="section-relative-nav">
              <a href="#almost-never-used-commands" class="anchor">⚓</a>
            </span>
            <span class="breadcrumbs">
              <a href="#usage-notes">Usage notes</a>
              <span class="crumb"><span class="s"> » </span><a class="here">Almost never used commands</a></span>
            </span>
          </h1>

          <div class="cards cards-link-to-themselves">

            <article class="card" id="init">
              <h1><a href="#init"><code>git init [--bare]</code></a></h1>
              <p>Initializes a git repository. Creates a <code>.git</code> subdirectory unless <code>--bare</code>.</p>
              <p><code>--bare</code> option is useful on private origins. I use one for local backups.</p>
            </article>

            <article class="card" id="clone">
              <h1><a href="#clone"><code>git clone <var>url</var></code></a></h1>
              <p>Clones git repo at <var>url</var> into a new directory.</p>
              <p>I almost never use this since I almost always work on my own projects, which are already cloned.</p>
            </article>

            <article class="card" id="remote-add">
              <h1><a href="#remote-add"><code>git remote add <var>name</var> <var>url</var></code></a></h1>
              <p>Sets up remote <var>name</var> pointing at <var>url</var>.</p>
              <p>Typical remotes:</p>
              <ul class="list">
                <li><code>private</code> (backup to local server)</li>
                <li><code>live</code> (push to live website)</li>
                <li><code>public</code> (publish on GitHub).</li>
              </ul>
            </article>

            <article class="card" id="push-u">
              <h1><a href="#push-u"><code>git push -u <var>remote</var> <var>branch</var></code></a></h1>
              <p>Sets up a remote-tracking branch.</p>
            </article>

            <article class="card" id="rebase">
              <h1><a href="#rebase"><code>git rebase <var>branch</var></code></a></h1>
              <p>Rewrites history by replaying commits on top of <var>branch</var>, almost always <code>master</code>.</p>
              <p>Especially useful in the case of long-lived branches, which are rare in my case.</p>
            </article>

            <article class="card" id="rebase-i">
              <h1>
                <a href="#rebase-i">
                  <code>git rebase -i <var>commit</var></code>
                  <br />
                  <code>git rebase -i --root</code>
                  <br />
                  <code>git rebase --continue</code>
                  <br />
                  <code>git rebase --abort</code>
                </a>
              </h1>
              <p>In my case, exclusively used to squash commits together before publication.</p>
              <p>
                Simply use the <code>r</code> command for the first commit and <code>f</code> for all others,
                <br />
                then use <code>git commit --amend -C HEAD --reset-author</code> to update the date.
              </p>
              <p>It's a good idea to make a copy of the branch before the rebase.</p>
            </article>

            <article class="card" id="merge">
              <h1><a href="#merge"><code>git merge <var>branch</var></code></a></h1>
              <p>Merges the <var>branch</var> into the current branch.</p>
              <p>Typically used to merge a (rebased) branch into <code>master</code>.</p>
            </article>

            <article class="card" id="branch-d">
              <h1>
                <a href="#branch-d">
                  <code>git branch -d <var>branch</var></code>
                  <br />
                  <code>git branch -D <var>branch</var></code>
                </a>
              </h1>
              <p>Deletes a branch, use <code>-D</code> to force.</p>
            </article>

            <article class="card" id="stash">
              <h1>
                <a href="#stash">
                  <code>git stash</code>
                  <br />
                  <code>git stash pop</code>
                  <br />
                  <code>git stash list</code>
                </a>
              </h1>
              <p>Use the stash to temporarily save away current changes to work on something else.</p>
            </article>

            <article class="card" id="reset-hard">
              <h1><a href="#reset-hard"><code>git reset --hard <var>commit</var></code></a></h1>
              <p>Set HEAD to <var>commit</var> and <span class="watch-out">throw away all changes to the index and working tree.</span></p>
              <p>Useful to nuke failed experiments. <span class="watch-out">Dangerous command, proceed with caution!</span></p>
            </article>

          </div>

        </section>

        <nav class="end-of-section-indicator">
          <a href="#usage-notes">
            "<span>Usage notes</span>" end.
          </a>
        </nav>

      </section>

      <section id="my-config">

        <h1 class="breadcrumbs-bar">
          <span class="section-relative-nav">
            <a href="#my-config" class="anchor">⚓</a>
          </span>
          <span class="breadcrumbs">
            <a class="here">My config</a>
          </span>
        </h1>

        <p>Here's <a href="config/.gitconfig" target="_blank">my <code>.gitconfig</code> file</a> (<a href="https://github.com/Hexstream/status-quo.hexstream.expert/blob/master/assets/tools/git/config/.gitconfig" target="_blank">see it on github</a>).</p>

      </section>

    </main>

    <footer id="footer">
      <div class="back-to-top left">
        <a href="#">⬆</a>
      </div>
      <div class="main">
        <a href="https://validator.w3.org/check?uri=http%3A%2F%2Fstatus-quo.hexstream.expert%2Ftools%2Fgit%2F" target="_blank">✔ HTML5</a>
        <a href="https://github.com/Hexstream/status-quo.hexstream.expert/blob/master/assets/tools/git/index.html" target="_blank">✔ Public Domain</a>
        <a href="https://jigsaw.w3.org/css-validator/validator?uri=http%3A%2F%2Fstatus-quo.hexstream.expert%2Ftools%2Fgit%2F" target="_blank">✔ CSS3</a>
        <a>✔ Mobile-friendly</a>
      </div>
      <div class="back-to-top right">
        <a href="#">⬆</a>
      </div>
    </footer>

  </body>
</html>
